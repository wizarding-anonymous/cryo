# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —Å –ø–æ—Ä—Ç–∞–º–∏

### 1. Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`backend/nginx/nginx.conf`)
**–ü—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**

- **Library Service**: `server library-service:3003;` ‚Üí `server library-service:3000;` ‚úÖ
- **Security Service**: `server security-service:3009;` ‚Üí `server security-service:3008;` ‚úÖ  
- **Download Service**: `server download-service:3010;` ‚Üí `server download-service:8080;` ‚úÖ

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**: Nginx –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –ø–æ—Ä—Ç–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∞ –Ω–µ –∫ –≤–Ω–µ—à–Ω–∏–º –ø–æ—Ä—Ç–∞–º docker-compose.

### 2. Prometheus –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`backend/monitoring/prometheus.yml`)
**–ü—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**

- **Download Service**: `targets: ['download-service:3010']` ‚Üí `targets: ['download-service:8080']` ‚úÖ

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**: Prometheus –¥–æ–ª–∂–µ–Ω —Å–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø–æ—Ä—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ download-service.

### 3. Logstash –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`backend/logging/logstash.conf`)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (5044, 5000, 8080)
- –ù–µ —Å–≤—è–∑–∞–Ω–æ —Å –ø–æ—Ä—Ç–∞–º–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

### 4. Grafana –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`backend/monitoring/grafana/datasources/prometheus.yml`)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- `url: http://prometheus:9090` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç

### 5. README.md (`backend/README.md`)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –ø–æ—Ä—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –í–Ω–µ—à–Ω–∏–µ –ø–æ—Ä—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç docker-compose –º–∞–ø–ø–∏–Ω–≥—É

## üìã –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ—Ä—Ç–æ–≤ –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

| –°–µ—Ä–≤–∏—Å | Docker-compose | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç | Nginx upstream | Prometheus target |
|--------|----------------|-----------------|----------------|-------------------|
| API Gateway | 3000:3000 | 3000 | 3000 ‚úÖ | 3000 ‚úÖ |
| User Service | 3001:3001 | 3001 | 3001 ‚úÖ | - |
| Game Catalog | 3002:3002 | 3002 | 3002 ‚úÖ | - |
| Library Service | 3003:3000 | 3000 | 3000 ‚úÖ | - |
| Review Service | 3004:3004 | 3004 | 3004 ‚úÖ | - |
| Payment Service | 3005:3005 | 3005 | 3005 ‚úÖ | 3005 ‚úÖ |
| Notification Service | 3006:3006 | 3006 | 3006 ‚úÖ | - |
| Social Service | 3007:3007 | 3007 | 3007 ‚úÖ | - |
| Achievement Service | 3008:3008 | 3008 | 3008 ‚úÖ | - |
| Security Service | 3009:3008 | 3008 | 3008 ‚úÖ | - |
| Download Service | 3010:8080 | 8080 | 8080 ‚úÖ | 8080 ‚úÖ |

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `backend/nginx/nginx.conf` - 3 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—Ç–æ–≤ upstream
2. `backend/monitoring/prometheus.yml` - 1 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ target

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `backend/logging/logstash.conf` ‚úÖ
2. `backend/monitoring/grafana/datasources/prometheus.yml` ‚úÖ
3. `backend/README.md` ‚úÖ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –ø–æ—Ä—Ç—ã - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

## üéØ –í–∞–∂–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ—Ä—Ç–æ–≤

1. **Docker-compose** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞–ø–ø–∏–Ω–≥ –≤–Ω–µ—à–Ω–∏–π:–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π
2. **Dockerfile EXPOSE** - –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –ø–æ—Ä—Ç—É
3. **–ö–æ–¥ —Å–µ—Ä–≤–∏—Å–∞ (.env, main.ts)** - –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç
4. **Nginx upstream** - –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –ø–æ—Ä—Ç—É
5. **Prometheus targets** - –¥–æ–ª–∂–µ–Ω —Å–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø–æ—Ä—Ç–∞
6. **README.md** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –ø–æ—Ä—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üöÄ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–í—Å–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã:
- ‚úÖ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ—Ä—Ç—ã –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –ø–æ—Ä—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ—Ä—Ç–æ–≤!