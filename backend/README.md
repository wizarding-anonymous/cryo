# Microservices Backend

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏–≥—Ä–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –≤–∫–ª—é—á–∞—è –æ–±—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

- **API Gateway** (–ø–æ—Ä—Ç 3000) - –û—Å–Ω–æ–≤–Ω–æ–π —à–ª—é–∑ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **User Service** (–ø–æ—Ä—Ç 3001) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **Game Catalog Service** (–ø–æ—Ä—Ç 3002) - –ö–∞—Ç–∞–ª–æ–≥ –∏–≥—Ä
- **Library Service** (–ø–æ—Ä—Ç 3003) - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Review Service** (–ø–æ—Ä—Ç 3004) - –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏
- **Payment Service** (–ø–æ—Ä—Ç 3005) - –ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **Notification Service** (–ø–æ—Ä—Ç 3006) - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **Social Service** (–ø–æ—Ä—Ç 3007) - –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **Achievement Service** (–ø–æ—Ä—Ç 3008) - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- **Security Service** (–ø–æ—Ä—Ç 3009) - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Download Service** (–ø–æ—Ä—Ç 3010) - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (Go)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **PostgreSQL** - –û—Ç–¥–µ–ª—å–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- **Redis** - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ—Å—Å–∏–∏
- **Prometheus** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫
- **Grafana** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- **ELK Stack** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Nginx** - Load balancer –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (22 —Å–µ–Ω—Ç—è–±—Ä—è 2025)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
- ‚úÖ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: PostgreSQL (10 –ë–î), Redis, Prometheus, Grafana —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **user-service**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- üîÑ **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**: –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

**–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- üö® **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .env —Ñ–∞–π–ª–æ–≤**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã PostgreSQL –∏ Redis
- üö® **–ü–∞—Ä–æ–ª–∏ Redis**: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚ö†Ô∏è **Elasticsearch**: –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –æ–±—Ä–∞–∑–∞ (403 Forbidden)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è user-service:**
- –•–æ—Å—Ç PostgreSQL: `postgres` ‚Üí `postgres-user-db`
- –•–æ—Å—Ç Redis: `redis` ‚Üí `redis-cache`
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–æ–ª—å Redis: `redis_password`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ë–î

**Health Endpoints (–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ):**
- ‚úÖ `user-service`: `/api/v1/health` - —Ä–∞–±–æ—Ç–∞–µ—Ç
- üîÑ –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Node.js 20+
- Go 1.21+ (–¥–ª—è download-service)
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd backend
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
chmod +x scripts/setup.sh
./scripts/setup.sh
```

3. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:
```bash
make install
```

### –ó–∞–ø—É—Å–∫

#### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
make dev
# –∏–ª–∏
docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d
```

#### –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º
```bash
make prod
# –∏–ª–∏
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

#### –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º
```bash
make up
# –∏–ª–∏
docker-compose up -d
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make build

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make up

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make down

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
make logs-user-service

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
make restart-user-service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
make status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
make health

# –û—á–∏—Å—Ç–∫–∞
make clean
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
make test

# –õ–∏–Ω—Ç–∏–Ω–≥
make lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make format
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ú–∏–≥—Ä–∞—Ü–∏–∏
make db-migrate

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
make db-seed

# –ë—ç–∫–∞–ø –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
make backup
```

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
make scale-user-service REPLICAS=3
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

- **API Gateway**: http://localhost:3000
- **Prometheus**: http://localhost:9090
- **Grafana**: http://localhost:3100 (admin/admin)
- **Kibana**: http://localhost:5601
- **PgAdmin** (dev): http://localhost:5050 (admin@admin.com/admin)
- **Redis Commander** (dev): http://localhost:8081

### –ú–µ—Ç—Ä–∏–∫–∏

–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–µ `/metrics`. Prometheus –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –ª–æ–≥–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ Elasticsearch —á–µ—Ä–µ–∑ Logstash –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Kibana.

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker Compose

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. **Development** - —Å hot reload –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **Production** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. **Base** - –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Kubernetes

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Kubernetes –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `k8s/`:

```bash
# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Kubernetes
kubectl apply -f k8s/namespace.yaml
kubectl apply -f k8s/configmap.yaml
kubectl apply -f k8s/secrets.yaml
kubectl apply -f k8s/ingress.yaml
```

### CI/CD

–ù–∞—Å—Ç—Ä–æ–µ–Ω GitHub Actions workflow –¥–ª—è:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –°–±–æ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑–æ–≤
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ staging/production

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —Å–≤–æ–π `.env` —Ñ–∞–π–ª. **–í–ê–ñ–ù–û**: –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:**
- `POSTGRES_HOST=postgres-[service]-db` - —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ù–ï `postgres`)
- `REDIS_HOST=redis-cache` - —Ö–æ—Å—Ç Redis (–ù–ï `redis`)
- `REDIS_PASSWORD=redis_password` - –ø–∞—Ä–æ–ª—å Redis (–ù–ï –ø—É—Å—Ç–æ–π)
- `POSTGRES_USER=[service]_service` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î —Å–æ–≥–ª–∞—Å–Ω–æ docker-compose.yml
- `POSTGRES_PASSWORD=[service]_password` - –ø–∞—Ä–æ–ª—å –ë–î —Å–æ–≥–ª–∞—Å–Ω–æ docker-compose.yml
- `POSTGRES_DB=[service]_db` - –∏–º—è –ë–î —Å–æ–≥–ª–∞—Å–Ω–æ docker-compose.yml

**–û–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `NODE_ENV` - –æ–∫—Ä—É–∂–µ–Ω–∏–µ (development/production)
- `LOG_LEVEL` - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤

**–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (user-service):**
```env
POSTGRES_HOST=postgres-user-db
POSTGRES_USER=user_service
POSTGRES_PASSWORD=user_password
POSTGRES_DB=user_db
REDIS_HOST=redis-cache
REDIS_PASSWORD=redis_password
```

### –°–µ—Ç–∏

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–±—â–µ–π Docker —Å–µ—Ç–∏ `microservices-network` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

### –ü–æ—Ä—Ç—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| API Gateway | 3000 | –û—Å–Ω–æ–≤–Ω–æ–π API |
| User Service | 3001 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |
| Game Catalog | 3002 | –ö–∞—Ç–∞–ª–æ–≥ –∏–≥—Ä |
| Library Service | 3003 | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
| Review Service | 3004 | –û—Ç–∑—ã–≤—ã |
| Payment Service | 3005 | –ü–ª–∞—Ç–µ–∂–∏ |
| Notification Service | 3006 | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| Social Service | 3007 | –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| Achievement Service | 3008 | –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è |
| Security Service | 3009 | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å |
| Download Service | 3010 | –ó–∞–≥—Ä—É–∑–∫–∏ |

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É —Å–µ—Ä–≤–∏—Å–∞ –≤ `backend/`
2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ `docker-compose.yml`
3. –û–±–Ω–æ–≤–∏—Ç–µ `Makefile` –∏ —Å–∫—Ä–∏–ø—Ç—ã
4. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
5. –û–±–Ω–æ–≤–∏—Ç–µ CI/CD pipeline

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–∞

```
service-name/
‚îú‚îÄ‚îÄ src/
‚îú‚îÄ‚îÄ test/
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞

- ESLint –¥–ª—è JavaScript/TypeScript
- Prettier –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Jest –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Swagger –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- Rate limiting –≤ Nginx
- HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ CI/CD
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis
- Connection pooling –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- Load balancing —á–µ—Ä–µ–∑ Nginx
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è**
   ```bash
   make logs
   docker-compose ps
   ```

2. **–û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ö–æ—Å—Ç–∞: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `postgres-[service]-db`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω–æ docker-compose.yml
   ```bash
   make logs-postgres-user
   docker-compose exec postgres-user-db psql -U user_service -d user_db
   ```

3. **–û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ö–æ—Å—Ç: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `redis-cache`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `redis_password`
   ```bash
   docker logs redis-cache
   docker exec redis-cache redis-cli -a redis_password ping
   ```

4. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é**
   ```bash
   docker network ls
   docker network inspect backend_microservices-network
   ```

5. **Config validation errors**
   - –û–±—ã—á–Ω–æ —Å–≤—è–∑–∞–Ω—ã —Å –ø—É—Å—Ç—ã–º–∏ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —à–∞–±–ª–æ–Ω—É
   ```bash
   docker exec [service] env | grep -E "(POSTGRES|REDIS)"
   ```

### –û—Ç–ª–∞–¥–∫–∞

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make logs-<service>` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoints: `curl http://localhost:3000/health`
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ Grafana
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –≤ Kibana

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
3. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∂–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –ø—Ä–æ–µ–∫—Ç–∞]