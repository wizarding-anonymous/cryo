# Game Catalog Service

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–≥—Ä –¥–ª—è –∏–≥—Ä–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏–≥—Ä, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∏–≥—Ä–∞—Ö –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

Game Catalog Service - —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏–≥—Ä –≤ –∏–≥—Ä–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, –ø–æ–∏—Å–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–≥—Ä, –∞ —Ç–∞–∫–∂–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º. –°–µ—Ä–≤–∏—Å –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ NestJS —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º TypeScript –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.

## üöÄ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏–≥—Ä
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏–≥—Ä —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–≥—Ä–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–≥—Ä –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–≥—Ä–∞—Ö
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∂–∞–Ω—Ä—É –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ –ø–æ–∏—Å–∫–µ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è)
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–æ–ª—è–º
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è Payment Service
- ‚úÖ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–∫—É–ø–∫–µ –∏–≥—Ä—ã
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º TTL
- ‚úÖ –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Health checks –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ Redis
- ‚úÖ Prometheus –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üîÑ Game Flows

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–≥—Ä
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí GET /api/games ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí 
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞/–ë–î ‚Üí –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Üí 
–ü–∞–≥–∏–Ω–∞—Ü–∏—è ‚Üí –í–æ–∑–≤—Ä–∞—Ç —Å–ø–∏—Å–∫–∞ –∏–≥—Ä
```

### 2. –ü–æ–∏—Å–∫ –∏–≥—Ä
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí GET /api/games/search?q=–∑–∞–ø—Ä–æ—Å ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí 
–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤ PostgreSQL ‚Üí –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Üí 
–ü–∞–≥–∏–Ω–∞—Ü–∏—è ‚Üí –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–≥—Ä–µ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí GET /api/games/:id ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è UUID ‚Üí 
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –ë–î ‚Üí –í–æ–∑–≤—Ä–∞—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∫—É–ø–∫–∏
```
Payment Service ‚Üí GET /api/games/:id/purchase-info ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è UUID ‚Üí 
–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –∏ –≤–∞–ª—é—Ç—ã ‚Üí 
–í–æ–∑–≤—Ä–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–ª–∞—Ç–µ–∂–∞
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã
```
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ‚Üí POST /api/games ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚Üí 
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î ‚Üí –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ ‚Üí –í–æ–∑–≤—Ä–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∏–≥—Ä—ã
```

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã
```
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ‚Üí PATCH /api/games/:id ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚Üí 
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ë–î ‚Üí –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ ‚Üí –í–æ–∑–≤—Ä–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∏–≥—Ä—ã
```

## üõ† API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### Games (`/api/games`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ |
|-------|----------|----------|-------------|
| `GET` | `/games` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π | ‚úÖ 10 –º–∏–Ω |
| `GET` | `/games/search` | –ü–æ–∏—Å–∫ –∏–≥—Ä –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º | ‚úÖ 5 –º–∏–Ω |
| `GET` | `/games/:id` | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–≥—Ä–µ | ‚úÖ 30 –º–∏–Ω |
| `GET` | `/games/:id/purchase-info` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ | ‚úÖ 15 –º–∏–Ω |
| `POST` | `/games` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã | ‚ùå |
| `PATCH` | `/games/:id` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã | ‚ùå |
| `DELETE` | `/games/:id` | –£–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä—ã | ‚ùå |

#### GET /api/games
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞–≥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `page` (optional): –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` (optional): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10, –º–∞–∫—Å–∏–º—É–º: 100)
- `sortBy` (optional): –ü–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (title, price, releaseDate, createdAt)
- `sortOrder` (optional): –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (ASC, DESC)
- `genre` (optional): –§–∏–ª—å—Ç—Ä –ø–æ –∂–∞–Ω—Ä—É
- `available` (optional): –§–∏–ª—å—Ç—Ä –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

**–û—Ç–≤–µ—Ç:**
```json
{
  "games": [
    {
      "id": "uuid",
      "title": "Cyberpunk 2077",
      "description": "Futuristic RPG...",
      "shortDescription": "Futuristic RPG in Night City",
      "price": 2999.99,
      "currency": "RUB",
      "genre": "Action RPG",
      "developer": "CD Projekt RED",
      "publisher": "CD Projekt",
      "releaseDate": "2020-12-10",
      "images": ["url1", "url2"],
      "systemRequirements": {
        "minimum": "OS: Windows 10...",
        "recommended": "OS: Windows 11..."
      },
      "available": true,
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    }
  ],
  "total": 100,
  "page": 1,
  "limit": 10
}
```

#### GET /api/games/search
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∏—Å–∫ –∏–≥—Ä —Å –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `q` (optional): –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (1-255 —Å–∏–º–≤–æ–ª–æ–≤)
- `searchType` (optional): –¢–∏–ø –ø–æ–∏—Å–∫–∞ (title, description, all)
- `page` (optional): –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- `minPrice` (optional): –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `maxPrice` (optional): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞

#### GET /api/games/:id
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–≥—Ä–µ –ø–æ UUID
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id`: UUID –∏–≥—Ä—ã

#### GET /api/games/:id/purchase-info
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Payment Service)
**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "uuid",
  "title": "Game Title",
  "price": 1999.99,
  "currency": "RUB",
  "available": true
}
```

#### POST /api/games
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
**Body:**
```json
{
  "title": "The Witcher 3: Wild Hunt",
  "description": "An epic RPG adventure...",
  "shortDescription": "Epic RPG adventure",
  "price": 1999.99,
  "currency": "RUB",
  "developer": "CD Projekt RED",
  "publisher": "CD Projekt",
  "genre": "RPG",
  "releaseDate": "2015-05-19",
  "available": true,
  "images": ["url1", "url2"],
  "systemRequirements": {
    "minimum": "OS: Windows 7...",
    "recommended": "OS: Windows 10..."
  }
}
```

#### PATCH /api/games/:id
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–≥—Ä—ã
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id`: UUID –∏–≥—Ä—ã
**Body:** –ß–∞—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### DELETE /api/games/:id
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id`: UUID –∏–≥—Ä—ã
**–û—Ç–≤–µ—Ç:** `204 No Content`

### Search (`/api/search`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ |
|-------|----------|----------|-------------|
| `GET` | `/search/search` | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∏–≥—Ä | ‚úÖ 5 –º–∏–Ω |

### Health Check (`/api/v1/health`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| `GET` | `/v1/health` | –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞ | ‚ùå |
| `GET` | `/v1/health/detailed` | –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞ | ‚ùå |

### Root

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| `GET` | `/` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ | ‚ùå |

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `/api/api-docs` | Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Framework:** NestJS (Node.js)
- **Language:** TypeScript
- **Database:** PostgreSQL —Å –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–∏—Å–∫–æ–º
- **Cache:** Redis
- **Validation:** class-validator, class-transformer
- **Documentation:** Swagger/OpenAPI
- **Logging:** Winston
- **Metrics:** Prometheus
- **Testing:** Jest

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/
‚îú‚îÄ‚îÄ game/                 # –ú–æ–¥—É–ª—å –∏–≥—Ä
‚îÇ   ‚îú‚îÄ‚îÄ game.controller.ts # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–≥—Ä
‚îÇ   ‚îú‚îÄ‚îÄ game.service.ts   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏–≥—Ä
‚îÇ   ‚îî‚îÄ‚îÄ game.module.ts    # –ú–æ–¥—É–ª—å –∏–≥—Ä
‚îú‚îÄ‚îÄ search/              # –ú–æ–¥—É–ª—å –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ search.controller.ts # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ search.service.ts    # –°–µ—Ä–≤–∏—Å –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ search.module.ts     # –ú–æ–¥—É–ª—å –ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ entities/            # TypeORM —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ game.entity.ts   # –°—É—â–Ω–æ—Å—Ç—å –∏–≥—Ä—ã
‚îú‚îÄ‚îÄ dto/                 # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ create-game.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ update-game.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ game-response.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ search-games.dto.ts
‚îÇ   ‚îî‚îÄ‚îÄ purchase-info.dto.ts
‚îú‚îÄ‚îÄ interfaces/          # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ game.interface.ts
‚îÇ   ‚îî‚îÄ‚îÄ game-service.interface.ts
‚îú‚îÄ‚îÄ database/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ migrations/      # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ database.module.ts
‚îÇ   ‚îî‚îÄ‚îÄ redis-config.service.ts
‚îú‚îÄ‚îÄ health/              # Health checks
‚îÇ   ‚îú‚îÄ‚îÄ health.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ metrics.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ logging.service.ts
‚îú‚îÄ‚îÄ common/              # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ controllers/     # –ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ decorators/      # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ filters/         # Exception filters
‚îÇ   ‚îú‚îÄ‚îÄ interceptors/    # Interceptors
‚îÇ   ‚îî‚îÄ‚îÄ services/        # –û–±—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îî‚îÄ‚îÄ types/               # –¢–∏–ø—ã TypeScript
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 20+
- PostgreSQL 13+
- Redis 6+
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
```bash
git clone <repository-url>
cd backend/game-catalog-service
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

4. **–ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ Redis:**
```bash
# –ò—Å–ø–æ–ª—å–∑—É—è Docker Compose
docker-compose up -d postgres redis

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
```

5. **–ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π:**
```bash
npm run migration:run
```

6. **–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```bash
npm run start:dev
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3002/api`

### Docker

1. **–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞:**
```bash
docker build -t game-catalog-service .
```

2. **–ó–∞–ø—É—Å–∫ —Å Docker Compose:**
```bash
docker-compose up -d
```

### –ü—Ä–æ–¥–∞–∫—à–Ω

1. **–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```bash
npm run build
```

2. **–ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ:**
```bash
npm run start:prod
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# Unit —Ç–µ—Å—Ç—ã
npm run test

# E2E —Ç–µ—Å—Ç—ã
npm run test:e2e

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:cov

# –¢–µ—Å—Ç—ã –≤ watch —Ä–µ–∂–∏–º–µ
npm run test:watch

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test:integration

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
npm run test:db

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Redis
npm run test:redis
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Checks
- **–ë–∞–∑–æ–≤—ã–π:** `GET /api/v1/health`
- **–î–µ—Ç–∞–ª—å–Ω—ã–π:** `GET /api/v1/health/detailed`

### –ú–µ—Ç—Ä–∏–∫–∏ Prometheus
–î–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:9090/metrics` (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã)

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–ø–∏—Å–∫–∏ –∏–≥—Ä: 10 –º–∏–Ω—É—Ç TTL
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ: 30 –º–∏–Ω—É—Ç TTL
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: 5 –º–∏–Ω—É—Ç TTL
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏: 15 –º–∏–Ω—É—Ç TTL

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ (–ø—Ä–æ–¥–∞–∫—à–Ω)
- –ü—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `NODE_ENV` | –û–∫—Ä—É–∂–µ–Ω–∏–µ | `development` |
| `PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–∏—Å–∞ | `3002` |
| `POSTGRES_HOST` | –•–æ—Å—Ç PostgreSQL | `localhost` |
| `POSTGRES_PORT` | –ü–æ—Ä—Ç PostgreSQL | `5432` |
| `POSTGRES_DB` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `game_catalog` |
| `REDIS_HOST` | –•–æ—Å—Ç Redis | `localhost` |
| `REDIS_PORT` | –ü–æ—Ä—Ç Redis | `6379` |
| `CACHE_TTL` | TTL –∫—ç—à–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | `600` |
| `LOG_LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | `info` |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ–∏—Å–∫–µ
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –∂–∞–Ω—Ä—É
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–∏–º–∏—Ç—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

### –¢–∞–π–º–∞—É—Ç—ã
- –°–ø–∏—Å–æ–∫ –∏–≥—Ä: 15 —Å–µ–∫—É–Ω–¥
- –ü–æ–∏—Å–∫: 12 —Å–µ–∫—É–Ω–¥
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: 10 —Å–µ–∫—É–Ω–¥
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏: 8 —Å–µ–∫—É–Ω–¥

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- **Payment Service:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏–≥—Ä
- **Library Service:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä–∞—Ö
- **User Service:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API Gateway

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- PostgreSQL —Å TypeORM
- –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- JSONB –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ TTL –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
npm run migration:generate --name=MigrationName

# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
npm run migration:run

# –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
npm run migration:revert

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–π
npm run migration:show

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
npm run migration:create --name=MigrationName

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
npm run db:setup

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
npm run format
```

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞
- ESLint –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- Prettier –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- TypeScript –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è DTO —Å class-validator

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Docker
docker-compose logs game-catalog-service

# –õ–æ–∫–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
tail -f logs/app.log
```

### –û—Ç–ª–∞–¥–∫–∞ –≤ IDE
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ç–ª–∞–¥—á–∏–∫ –¥–ª—è –ø–æ—Ä—Ç–∞ `9229` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å `--debug`

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [NestJS Documentation](https://docs.nestjs.com/)
- [TypeORM Documentation](https://typeorm.io/)
- [PostgreSQL Full-Text Search](https://www.postgresql.org/docs/current/textsearch.html)
- [Redis Documentation](https://redis.io/documentation)
- [Swagger Documentation](http://localhost:3002/api/api-docs)

## ü§ù –í–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

1. –°–æ–∑–¥–∞–π—Ç–µ feature branch
2. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–∏–Ω—Ç–∏–Ω–≥ –∏ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏—Ü–µ–Ω–∑–∏—é UNLICENSED.