# –°—Ç–∞—Ç—É—Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ Cryo

## –û–±–∑–æ—Ä

–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: 22 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–∏—Å–æ–≤: 26  
–ó–¥–æ—Ä–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: 23  
–ü—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: 3  
–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π: 2  

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### notification-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª health endpoint
- **–†–µ—à–µ–Ω–∏–µ**: 
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (DB_HOST –≤–º–µ—Å—Ç–æ DATABASE_HOST)
  - –î–æ–±–∞–≤–ª–µ–Ω health endpoint `/health` —Å @nestjs/terminus
  - –û–±–Ω–æ–≤–ª–µ–Ω healthcheck –≤ Dockerfile
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–¥–æ—Ä–æ–≤

### achievement-service  
- **–ü—Ä–æ–±–ª–µ–º–∞**: IPv6 –ø—Ä–æ–±–ª–µ–º—ã –≤ healthcheck, —É—Å—Ç–∞—Ä–µ–≤—à–∏–π Node 18
- **–†–µ—à–µ–Ω–∏–µ**:
  - –û–±–Ω–æ–≤–ª–µ–Ω –¥–æ Node 20
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω healthcheck (localhost ‚Üí 127.0.0.1)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (3003 ‚Üí 3008)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–¥–æ—Ä–æ–≤

### review-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: Node 18, –ø—Ä–æ–±–ª–µ–º—ã —Å crypto.randomUUID
- **–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω –¥–æ Node 20
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–¥–æ—Ä–æ–≤

### payment-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª health-check.js —Ñ–∞–π–ª
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω inline healthcheck —á–µ—Ä–µ–∑ fetch
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–¥–æ—Ä–æ–≤

### library-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª curl –¥–ª—è healthcheck
- **–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω curl –≤ Dockerfile
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–¥–æ—Ä–æ–≤

### social-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ main.js (dist/main –≤–º–µ—Å—Ç–æ dist/src/main)
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∑–∞–ø—É—Å–∫–∞ –≤ Dockerfile
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–¥–æ—Ä–æ–≤

## üîß –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –ª–æ–≥–∞—Ö

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### payment-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ game-catalog-service –¥–ª—è health check
- **–û—à–∏–±–∫–∞**: `Game Catalog Service health check failed: Request failed with status code 404`
- **–í–ª–∏—è–Ω–∏–µ**: –ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞—Ä—É—à–µ–Ω–∞
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### achievement-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: Circuit breaker –æ—Ç–∫—Ä—ã—Ç –¥–ª—è review-service –ø–æ—Å–ª–µ 127 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- **–û—à–∏–±–∫–∞**: `Circuit breaker OPENED for service review after 127 failures`
- **–í–ª–∏—è–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å review-service –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
- **–°—Ç–∞—Ç—É—Å**: üö® –ö—Ä–∏—Ç–∏—á–Ω–æ

#### review-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: Health endpoint `/health` –Ω–µ –Ω–∞–π–¥–µ–Ω (404)
- **–û—à–∏–±–∫–∞**: `GET /health - 404 Not Found: Cannot GET /health`
- **–í–ª–∏—è–Ω–∏–µ**: Health check –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

#### user-service
- **–ü—Ä–æ–±–ª–µ–º–∞**: Prometheus –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ endpoint
- **–û—à–∏–±–∫–∞**: `Cannot GET /metrics` (404)
- **–í–ª–∏—è–Ω–∏–µ**: –ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è (–Ω–æ —ç—Ç–æ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- **–°—Ç–∞—Ç—É—Å**: ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ

#### elasticsearch
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏—Å—Ç–µ–º–Ω—ã–µ —á–∞—Å—ã –∏–¥—É—Ç –Ω–∞–∑–∞–¥
- **–û—à–∏–±–∫–∞**: `absolute clock went backwards by [1.9s/1909ms]`
- **–í–ª–∏—è–Ω–∏–µ**: –ú–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ª–æ–≥–æ–≤
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –°–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

## üìä –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚úÖ –ó–¥–æ—Ä–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- PostgreSQL (–≤—Å–µ 10 –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö)
- Redis Cache
- Prometheus
- Grafana  
- Elasticsearch
- Kibana

### Health Endpoints (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å)

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | Health Endpoint | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|--------|------|----------------|--------|----------|
| api-gateway | 3000 | `/api/v1/health` | ‚úÖ | –ù–µ—Ç |
| user-service | 3001 | `/api/v1/health` | ‚úÖ | Prometheus –æ—à–∏–±–∫–∏ /metrics |
| game-catalog-service | 3002 | `/api/v1/health` | ‚ö†Ô∏è | –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è payment-service |
| library-service | 3003 | `/api/health` | ‚úÖ | –ù–µ—Ç |
| review-service | 3004 | `/api/v1/health` | ‚ùå | /health endpoint –Ω–µ –Ω–∞–π–¥–µ–Ω |
| payment-service | 3005 | `/health` | ‚ö†Ô∏è | –ù–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ game-catalog |
| notification-service | 3006 | `/health` | ‚úÖ | –ù–µ—Ç |
| social-service | 3007 | `/api/v1/health` | ‚úÖ | –ù–µ—Ç |
| achievement-service | 3008 | `/api/v1/health` | üö® | Circuit breaker –æ—Ç–∫—Ä—ã—Ç –¥–ª—è review |
| security-service | 3009 | `/api/v1/health` | ‚úÖ | –ù–µ—Ç |
| download-service | 3010 | `/api/v1/health` | ‚úÖ | –ù–µ—Ç |

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –¥–Ω—è) - –û–ë–ù–û–í–õ–ï–ù–û
1. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç health endpoints
2. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: Health check —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º —Å–µ—Ä–≤–∏—Å–æ–≤
3. üö® **–¢–†–ï–ë–£–ï–¢ –í–ù–ò–ú–ê–ù–ò–Ø**: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
4. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–æ Node 20
5. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: Prometheus –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º
6. üîß **–ù–û–í–û–ï**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å game-catalog-service –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
7. üîß **–ù–û–í–û–ï**: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É achievement-service ‚Üî review-service
8. üîß **–ù–û–í–û–ï**: –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π /health endpoint –≤ review-service

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1 –Ω–µ–¥–µ–ª—è)
1. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: Health endpoints –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º (–Ω–µ —Ç—Ä–µ–±—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏)
2. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ health checks (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã)
3. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ health endpoints –≤ Prometheus –Ω–∞—Å—Ç—Ä–æ–µ–Ω
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –≤ health check —Å–∫—Ä–∏–ø—Ç–µ (–∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (1 –º–µ—Å—è—Ü)
1. –í–Ω–µ–¥—Ä–∏—Ç—å circuit breakers –¥–ª—è –≤—Å–µ—Ö –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å distributed tracing (Jaeger/Zipkin)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –≤ Grafana

## üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- `backend/notification-service/Dockerfile` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω healthcheck
- `backend/notification-service/src/database/database.module.ts` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
- `backend/achievement-service/Dockerfile` - –û–±–Ω–æ–≤–ª–µ–Ω –¥–æ Node 20, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω healthcheck
- `backend/scripts/health-check.ps1` - –û–±–Ω–æ–≤–ª–µ–Ω—ã endpoints –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- `backend/README.md` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (22 —Å–µ–Ω—Ç—è–±—Ä—è 2025) - –û–ë–ù–û–í–õ–ï–ù–û
- ‚úÖ –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ö†Ô∏è 23 –∏–∑ 26 —Å–µ—Ä–≤–∏—Å–æ–≤ –∑–¥–æ—Ä–æ–≤—ã, 3 –∏–º–µ—é—Ç –ø—Ä–æ–±–ª–µ–º—ã
- üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (PostgreSQL, Redis, Grafana) —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚ö†Ô∏è Elasticsearch –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º
- ‚úÖ Prometheus –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üîç –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ Health Check Script Issues
- **–ü—Ä–æ–±–ª–µ–º–∞**: ‚úÖ **–†–ï–®–ï–ù–ê** - Health check —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º —Å–µ—Ä–≤–∏—Å–æ–≤
- **–†–µ—à–µ–Ω–∏–µ**: Endpoints –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ design –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ 26 —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç health check —É—Å–ø–µ—à–Ω–æ

### ‚úÖ Endpoint Consistency
- **–ü—Ä–æ–±–ª–µ–º–∞**: ‚úÖ **–†–ï–®–ï–ù–ê** - Endpoints —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º
- **–†–µ—à–µ–Ω–∏–µ**: 
  - payment-service: `/health` (—Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
  - library-service: `/api/health` (—Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚úÖ Prometheus Configuration
- **–ü—Ä–æ–±–ª–µ–º–∞**: ‚úÖ **–†–ï–®–ï–ù–ê** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º
- **–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å—ã —Å `/metrics` endpoints —Å–æ–≥–ª–∞—Å–Ω–æ design –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: Prometheus –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å payment-service –∏ download-service

## üîß –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)
1. **achievement-service ‚Üî review-service –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - –ü—Ä–æ–±–ª–µ–º–∞: Circuit breaker –æ—Ç–∫—Ä—ã—Ç –ø–æ—Å–ª–µ 127 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
   - –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é URL review-service –≤ achievement-service
   - –ö–æ–º–∞–Ω–¥–∞: `docker logs achievement-service --tail 50 | grep review`

2. **review-service health endpoint**
   - –ü—Ä–æ–±–ª–µ–º–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `/health` endpoint
   - –î–µ–π—Å—Ç–≤–∏–µ: –î–æ–±–∞–≤–∏—Ç—å health controller —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –§–∞–π–ª: `backend/review-service/src/health/health.controller.ts`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)
3. **payment-service ‚Üî game-catalog-service –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - –ü—Ä–æ–±–ª–µ–º–∞: 404 –æ—à–∏–±–∫–∞ –ø—Ä–∏ health check
   - –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é game-catalog-service
   - –§–∞–π–ª: `backend/payment-service/.env`

4. **elasticsearch —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è**
   - –ü—Ä–æ–±–ª–µ–º–∞: –ß–∞—Å—ã –∏–¥—É—Ç –Ω–∞–∑–∞–¥
   - –î–µ–π—Å—Ç–≤–∏–µ: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è Docker
   - –ö–æ–º–∞–Ω–¥–∞: `docker exec elasticsearch ntpdate -s time.nist.gov`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ)
5. **user-service metrics endpoint**
   - –ü—Ä–æ–±–ª–µ–º–∞: Prometheus –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏
   - –î–µ–π—Å—Ç–≤–∏–µ: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π achievement-service
docker logs achievement-service --tail 50 | grep -E "(review|error|failed)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ payment-service
docker exec payment-service cat .env | grep GAME_CATALOG

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose restart achievement-service review-service payment-service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ connectivity –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
docker exec payment-service curl -f http://game-catalog-service:3002/api/v1/health
docker exec achievement-service curl -f http://review-service:3004/api/v1/health
```

## üéâ –ò—Ç–æ–≥–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã:
1. ‚úÖ **–ò–∑—É—á–µ–Ω—ã —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏** –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö endpoints
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω health check —Å–∫—Ä–∏–ø—Ç** —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∞–ª—å–Ω—ã–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º —Å–µ—Ä–≤–∏—Å–æ–≤
3. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prometheus** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
4. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** –≤—Å–µ—Ö 26 —Å–µ—Ä–≤–∏—Å–æ–≤
5. ‚úÖ **–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –æ—Ç—á–µ—Ç** –æ —Å—Ç–∞—Ç—É—Å–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
- **88% –∑–¥–æ—Ä–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤**: 23 –∏–∑ 26 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º**: Health endpoints –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ design –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Ç–æ–ª—å–∫–æ —Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤
- **–í—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã**: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã 3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. üö® **–ö–†–ò–¢–ò–ß–ù–û**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å circuit breaker –≤ achievement-service –¥–ª—è review-service
2. üîß **–í–ê–ñ–ù–û**: –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π /health endpoint –≤ review-service
3. ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é payment-service ‚Üî game-catalog-service
4. üîß –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –≤ PowerShell —Å–∫—Ä–∏–ø—Ç–µ
5. üìä –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ health checks –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
6. üö® –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –≤ Grafana –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫

## üîç –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps --format "table {{.Names}}\t{{.Status}}"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker logs [service-name] --tail 20

# –ó–∞–ø—É—Å–∫ health check —Å–∫—Ä–∏–ø—Ç–∞
./scripts/health-check.ps1

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart [service-name]

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose build [service-name] && docker-compose up -d [service-name]
```