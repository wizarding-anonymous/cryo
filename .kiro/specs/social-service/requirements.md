# Требования к Social Service (MVP) - Месяц 3

## Введение

Social Service - критически важный микросервис для MVP российской игровой платформы. Разрабатывается в **Месяце 3** для добавления социальных функций. Обеспечивает базовые социальные возможности: система друзей, простые сообщения, онлайн статусы через REST API с поддержкой Docker и 100% покрытием тестами.

## Требования

### Требование 1 (Система друзей)

**Пользовательская история:** Как пользователь, я хочу добавлять друзей и управлять списком друзей, чтобы играть вместе.

#### Критерии приемки

1. КОГДА пользователь ищет друга по имени ТОГДА система ДОЛЖНА найти пользователей с похожими именами
2. КОГДА пользователь отправляет заявку в друзья ТОГДА система ДОЛЖНА создать запрос на дружбу
3. КОГДА пользователь принимает заявку ТОГДА система ДОЛЖНА добавить обоих в списки друзей
4. ЕСЛИ пользователь отклоняет заявку ТОГДА система ДОЛЖНА удалить запрос

### Требование 2 (Онлайн статусы)

**Пользовательская история:** Как пользователь, я хочу видеть кто из друзей сейчас онлайн, чтобы пригласить их поиграть.

#### Критерии приемки

1. КОГДА пользователь входит в систему ТОГДА его статус ДОЛЖЕН измениться на "онлайн"
2. КОГДА пользователь выходит ТОГДА статус ДОЛЖЕН измениться на "офлайн"
3. КОГДА пользователь просматривает список друзей ТОГДА система ДОЛЖНА показать их статусы
4. ЕСЛИ пользователь неактивен 15 минут ТОГДА статус ДОЛЖЕН измениться на "отошел"

### Требование 3 (Простые сообщения)

**Пользовательская история:** Как пользователь, я хочу отправлять простые сообщения друзьям, чтобы общаться с ними.

#### Критерии приемки

1. КОГДА пользователь отправляет сообщение другу ТОГДА система ДОЛЖНА сохранить его
2. КОГДА друг онлайн ТОГДА система ДОЛЖНА доставить сообщение немедленно
3. КОГДА друг офлайн ТОГДА система ДОЛЖНА сохранить сообщение для доставки при входе
4. ЕСЛИ пользователи не друзья ТОГДА система НЕ ДОЛЖНА позволять отправлять сообщения

### Требование 4 (API для интеграции)

**Пользовательская история:** Как другой микросервис, я хочу получать информацию о социальных связях пользователей.

#### Критерии приемки

1. КОГДА Achievement Service проверяет друзей ТОГДА Social Service ДОЛЖЕН вернуть список друзей пользователя
2. КОГДА Notification Service отправляет уведомление ТОГДА система ДОЛЖНА проверить настройки приватности
3. КОГДА frontend запрашивает статусы ТОГДА система ДОЛЖНА вернуть онлайн статусы друзей
4. ЕСЛИ запрос неавторизован ТОГДА система ДОЛЖНА вернуть ошибку 403

### Требование 5 (Архитектурные требования MVP)

**Пользовательская история:** Как DevOps инженер, я хочу развернуть Social Service в Kubernetes, чтобы обеспечить социальные функции.

#### Критерии приемки

1. КОГДА сервис развертывается ТОГДА он ДОЛЖЕН работать в Docker контейнере
2. КОГДА команда тестирует сервис ТОГДА покрытие тестами ДОЛЖНО быть 100%
3. КОГДА происходит социальное взаимодействие ТОГДА время ответа ДОЛЖНО быть < 200ms
4. ЕСЛИ нагрузка увеличивается ТОГДА сервис ДОЛЖЕН поддерживать 1000 одновременных пользователей

## Ограничения MVP (Месяц 3)

### Что НЕ включено в Social Service MVP:
- ❌ Групповые чаты - **После MVP**
- ❌ Игровые приглашения - **После MVP**
- ❌ Группы и сообщества - **После MVP**
- ❌ Интеграция с VK, Одноклассники - **После MVP**
- ❌ Стримы и трансляции - **После MVP**
- ❌ Голосовой чат - **После MVP**
- ❌ Расширенные настройки приватности - **После MVP**
- ❌ Лента активности - **После MVP**
- ❌ Реферальная система - **После MVP**
- ❌ Турниры и события - **После MVP**

### Технические требования MVP:
- ✅ REST API для социальных функций
- ✅ Docker контейнеризация
- ✅ 100% покрытие тестами
- ✅ Kubernetes готовность
- ✅ Простая система друзей
- ✅ Базовые сообщения между друзьями
- ✅ Онлайн статусы

## Критерии готовности MVP (Месяц 3)

### Функциональные критерии:
1. ✅ Пользователи могут добавлять друзей
2. ✅ Отображение онлайн статусов друзей
3. ✅ Отправка простых сообщений между друзьями
4. ✅ API для интеграции с Achievement и Notification сервисами
5. ✅ Базовые настройки приватности

### Технические критерии:
1. ✅ Docker образ собирается и запускается
2. ✅ Все тесты проходят (100% покрытие)
3. ✅ API отвечает за время < 200ms
4. ✅ Поддержка 1000 одновременных пользователей
5. ✅ Готовность к развертыванию в Kubernetes