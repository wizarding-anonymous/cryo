# Требования к Review Service (MVP) - Месяц 3

## Введение

Review Service - критически важный микросервис для MVP российской игровой платформы. Разрабатывается в **Месяце 3** для добавления пользовательских отзывов. Обеспечивает базовые отзывы и рейтинги: создание отзывов, простые рейтинги через REST API с поддержкой Docker и 100% покрытием тестами.

## Требования

### Требование 1 (Создание отзывов)

**Пользовательская история:** Как пользователь, я хочу оставлять отзывы о купленных играх, чтобы поделиться мнением.

#### Критерии приемки

1. КОГДА пользователь владеет игрой ТОГДА система ДОЛЖНА позволить ему оставить отзыв
2. КОГДА пользователь пишет отзыв ТОГДА система ДОЛЖНА проверить владение игрой через Library Service
3. КОГДА отзыв создан ТОГДА система ДОЛЖНА сохранить его с рейтингом от 1 до 5 звезд
4. ЕСЛИ пользователь не владеет игрой ТОГДА система ДОЛЖНА показать ошибку доступа

### Требование 2 (Просмотр отзывов)

**Пользовательская история:** Как пользователь, я хочу читать отзывы других игроков, чтобы принимать решения о покупке.

#### Критерии приемки

1. КОГДА пользователь просматривает игру ТОГДА система ДОЛЖНА показать последние отзывы
2. КОГДА пользователь просматривает отзывы ТОГДА система ДОЛЖНА показать средний рейтинг игры
3. КОГДА отзывов много ТОГДА система ДОЛЖНА показывать их с пагинацией по 10 штук
4. ЕСЛИ отзывов нет ТОГДА система ДОЛЖНА показать "Отзывов пока нет"

### Требование 3 (Базовые рейтинги)

**Пользовательская история:** Как пользователь, я хочу видеть общий рейтинг игры, чтобы быстро оценить ее качество.

#### Критерии приемки

1. КОГДА добавляется новый отзыв ТОГДА система ДОЛЖНА пересчитать средний рейтинг игры
2. КОГДА пользователь просматривает каталог ТОГДА система ДОЛЖНА показать рейтинги игр
3. КОГДА рейтинг обновляется ТОГДА система ДОЛЖНА уведомить Game Catalog Service
4. ЕСЛИ у игры нет отзывов ТОГДА рейтинг ДОЛЖЕН быть "Нет рейтинга"

### Требование 4 (API для интеграции)

**Пользовательская история:** Как другой микросервис, я хочу получать информацию о рейтингах игр.

#### Критерии приемки

1. КОГДА Game Catalog Service запрашивает рейтинг ТОГДА система ДОЛЖНА вернуть средний рейтинг и количество отзывов
2. КОГДА frontend запрашивает отзывы ТОГДА система ДОЛЖНА вернуть список с пагинацией
3. КОГДА Library Service проверяет владение ТОГДА система ДОЛЖНА разрешить создание отзыва
4. ЕСЛИ игра не найдена ТОГДА система ДОЛЖНА вернуть ошибку 404

### Требование 5 (Архитектурные требования MVP)

**Пользовательская история:** Как DevOps инженер, я хочу развернуть Review Service в Kubernetes.

#### Критерии приемки

1. КОГДА сервис развертывается ТОГДА он ДОЛЖЕН работать в Docker контейнере
2. КОГДА команда тестирует сервис ТОГДА покрытие тестами ДОЛЖНО быть 100%
3. КОГДА происходит работа с отзывами ТОГДА время ответа ДОЛЖНО быть < 200ms
4. ЕСЛИ нагрузка увеличивается ТОГДА сервис ДОЛЖЕН поддерживать 1000 одновременных пользователей

## Ограничения MVP (Месяц 3)

### Что НЕ включено в Review Service MVP:
- ❌ Модерация отзывов - **После MVP**
- ❌ Фильтрация и сортировка - **После MVP**
- ❌ Лайки/дизлайки отзывов - **После MVP**
- ❌ Защита от фейковых отзывов - **После MVP**
- ❌ Рекомендательная система - **После MVP**
- ❌ Детальная аналитика - **После MVP**
- ❌ Комментарии к отзывам - **После MVP**
- ❌ Многоязычность - **После MVP**
- ❌ Персонализация - **После MVP**
- ❌ Социальные функции - **После MVP**

### Технические требования MVP:
- ✅ REST API для отзывов и рейтингов
- ✅ Docker контейнеризация
- ✅ 100% покрытие тестами
- ✅ Kubernetes готовность
- ✅ Простые отзывы с рейтингом 1-5 звезд
- ✅ Интеграция с Library Service для проверки владения

## Критерии готовности MVP (Месяц 3)

### Функциональные критерии:
1. ✅ Пользователи могут оставлять отзывы о купленных играх
2. ✅ Отображение отзывов и рейтингов в каталоге
3. ✅ Расчет среднего рейтинга игр
4. ✅ API для интеграции с Game Catalog и Library сервисами
5. ✅ Базовая пагинация отзывов

### Технические критерии:
1. ✅ Docker образ собирается и запускается
2. ✅ Все тесты проходят (100% покрытие)
3. ✅ API отвечает за время < 200ms
4. ✅ Поддержка 1000 одновременных пользователей
5. ✅ Готовность к развертыванию в Kubernetes

