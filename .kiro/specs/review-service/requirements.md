# Требования к Review Service

## Введение

Review Service является сервисом для управления отзывами и рейтингами игр российской игровой платформы. Сервис отвечает за создание и модерацию отзывов, расчет рейтингов, рекомендательную систему, защиту от фейковых отзывов и интеграцию с другими сервисами платформы.

## Требования

### Требование 1

**Пользовательская история:** Как пользователь, я хочу оставлять отзывы о играх, чтобы поделиться своим мнением с другими игроками.

#### Критерии приемки

1. КОГДА пользователь покупает игру ТОГДА система ДОЛЖНА позволить ему оставить отзыв
2. КОГДА пользователь пишет отзыв ТОГДА система ДОЛЖНА проверить его на соответствие правилам
3. КОГДА отзыв опубликован ТОГДА система ДОЛЖНА обновить общий рейтинг игры
4. ЕСЛИ пользователь не владеет игрой ТОГДА система НЕ ДОЛЖНА позволять оставлять отзыв

### Требование 2

**Пользовательская история:** Как пользователь, я хочу читать отзывы других игроков, чтобы принимать обоснованные решения о покупке.

#### Критерии приемки

1. КОГДА пользователь просматривает игру ТОГДА система ДОЛЖНА показать отзывы с рейтингами
2. КОГДА пользователь фильтрует отзывы ТОГДА система ДОЛЖНА поддерживать фильтрацию по рейтингу, дате, времени игры
3. КОГДА пользователь сортирует отзывы ТОГДА система ДОЛЖНА поддерживать сортировку по полезности, дате, рейтингу
4. ЕСЛИ отзывов много ТОГДА система ДОЛЖНА показывать их с пагинацией

### Требование 3

**Пользовательская история:** Как пользователь, я хочу оценивать полезность отзывов других игроков.

#### Критерии приемки

1. КОГДА пользователь читает отзыв ТОГДА система ДОЛЖНА позволить оценить его как полезный или нет
2. КОГДА отзыв получает оценки ТОГДА система ДОЛЖНА учитывать их при ранжировании
3. КОГДА пользователь оценивает отзыв ТОГДА система ДОЛЖНА учесть его мнение в алгоритме
4. ЕСЛИ пользователь уже оценил отзыв ТОГДА система НЕ ДОЛЖНА позволять оценить повторно

### Требование 4

**Пользовательская история:** Как модератор, я хочу проверять отзывы на соответствие правилам сообщества.

#### Критерии приемки

1. КОГДА отзыв содержит нецензурную лексику ТОГДА система ДОЛЖНА автоматически скрыть его
2. КОГДА пользователь жалуется на отзыв ТОГДА система ДОЛЖНА передать его на модерацию
3. КОГДА модератор одобряет отзыв ТОГДА система ДОЛЖНА опубликовать его
4. ЕСЛИ отзыв нарушает правила ТОГДА система ДОЛЖНА удалить его и предупредить автора

### Требование 5

**Пользовательская история:** Как система, я должна защищать от фейковых и накрученных отзывов.

#### Критерии приемки

1. КОГДА пользователь оставляет много отзывов за короткое время ТОГДА система ДОЛЖНА проверить их на подлинность
2. КОГДА обнаружена подозрительная активность ТОГДА система ДОЛЖНА заблокировать возможность оставлять отзывы
3. КОГДА отзыв написан ботом ТОГДА система ДОЛЖНА автоматически удалить его
4. ЕСЛИ разработчик накручивает отзывы ТОГДА система ДОЛЖНА наказать его игру в рейтингах

### Требование 6

**Пользовательская история:** Как другой микросервис, я хочу получать информацию о рейтингах игр для персонализации.

#### Критерии приемки

1. КОГДА сервис запрашивает рейтинг игры ТОГДА система ДОЛЖНА вернуть актуальную информацию
2. КОГДА рейтинг игры изменяется ТОГДА система ДОЛЖНА отправить событие об обновлении
3. КОГДА сервис запрашивает топ игр ТОГДА система ДОЛЖНА вернуть список с учетом рейтингов
4. ЕСЛИ запрос содержит невалидные параметры ТОГДА система ДОЛЖНА вернуть детальную ошибку

### Требование 7

**Пользовательская история:** Как пользователь, я хочу получать персональные рекомендации игр на основе отзывов.

#### Критерии приемки

1. КОГДА пользователь оценивает игры ТОГДА система ДОЛЖНА анализировать его предпочтения
2. КОГДА система формирует рекомендации ТОГДА она ДОЛЖНА учитывать отзывы похожих пользователей
3. КОГДА пользователь покупает рекомендованную игру ТОГДА система ДОЛЖНА улучшить алгоритм
4. ЕСЛИ у пользователя мало отзывов ТОГДА система ДОЛЖНА использовать популярные игры

### Требование 8

**Пользовательская история:** Как разработчик, я хочу получать аналитику по отзывам о моих играх.

#### Критерии приемки

1. КОГДА разработчик просматривает аналитику ТОГДА система ДОЛЖНА показать распределение рейтингов
2. КОГДА появляются негативные отзывы ТОГДА система ДОЛЖНА выделить основные проблемы
3. КОГДА рейтинг игры падает ТОГДА система ДОЛЖНА уведомить разработчика
4. ЕСЛИ отзывов мало ТОГДА система ДОЛЖНА предложить способы их получения

### Требование 9

**Пользовательская история:** Как пользователь, я хочу отвечать на отзывы и вести дискуссии об играх.

#### Критерии приемки

1. КОГДА пользователь читает отзыв ТОГДА система ДОЛЖНА позволить оставить комментарий
2. КОГДА на отзыв отвечают ТОГДА система ДОЛЖНА уведомить автора отзыва
3. КОГДА начинается дискуссия ТОГДА система ДОЛЖНА поддерживать древовидную структуру комментариев
4. ЕСЛИ комментарий нарушает правила ТОГДА система ДОЛЖНА скрыть его

### Требование 10

**Пользовательская история:** Как система, я должна обеспечивать высокую производительность при работе с отзывами.

#### Критерии приемки

1. КОГДА пользователь просматривает отзывы ТОГДА система ДОЛЖНА загрузить их за время менее 300мс
2. КОГДА обновляется рейтинг игры ТОГДА система ДОЛЖНА пересчитать его за время менее 1 секунды
3. КОГДА происходит пиковая нагрузка ТОГДА система ДОЛЖНА поддерживать до 10000 одновременных запросов
4. ЕСЛИ база данных недоступна ТОГДА система ДОЛЖНА работать с кэшем минимум 10 минут

### Требование 11

**Пользовательская история:** Как пользователь, я хочу видеть отзывы на разных языках и переводить их.

#### Критерии приемки

1. КОГДА пользователь выбирает язык ТОГДА система ДОЛЖНА показать отзывы на этом языке
2. КОГДА отзыв на иностранном языке ТОГДА система ДОЛЖНА предложить автоматический перевод
3. КОГДА пользователь переводит отзыв ТОГДА система ДОЛЖНА сохранить перевод для других
4. ЕСЛИ перевод некачественный ТОГДА система ДОЛЖНА позволить его улучшить

### Требование 12

**Пользовательская история:** Как пользователь, я хочу получать уведомления о новых отзывах на интересующие игры.

#### Критерии приемки

1. КОГДА пользователь добавляет игру в список желаемого ТОГДА система ДОЛЖНА уведомлять о новых отзывах
2. КОГДА появляется важный отзыв ТОГДА система ДОЛЖНА отправить push-уведомление
3. КОГДА пользователь настраивает уведомления ТОГДА система ДОЛЖНА учесть его предпочтения
4. ЕСЛИ пользователь отключил уведомления ТОГДА система НЕ ДОЛЖНА их отправлять

### Требование 13

**Пользовательская история:** Как система, я должна интегрироваться с социальными функциями платформы.

#### Критерии приемки

1. КОГДА пользователь оставляет отзыв ТОГДА система ДОЛЖНА позволить поделиться им с друзьями
2. КОГДА друг оставляет отзыв ТОГДА система ДОЛЖНА показать его в ленте активности
3. КОГДА пользователь ищет мнения друзей ТОГДА система ДОЛЖНА выделить их отзывы
4. ЕСЛИ друг скрывает свои отзывы ТОГДА система НЕ ДОЛЖНА показывать их

### Требование 14

**Пользовательская история:** Как пользователь, я хочу создавать детальные обзоры игр с медиа контентом.

#### Критерии приемки

1. КОГДА пользователь создает обзор ТОГДА система ДОЛЖНА позволить добавить скриншоты и видео
2. КОГДА пользователь форматирует текст ТОГДА система ДОЛЖНА поддерживать разметку
3. КОГДА обзор подробный ТОГДА система ДОЛЖНА выделить его как рекомендуемый
4. ЕСЛИ медиа контент нарушает правила ТОГДА система ДОЛЖНА удалить его

### Требование 15

**Пользовательская история:** Как администратор, я хочу управлять системой рейтингов и бороться с манипуляциями.

#### Критерии приемки

1. КОГДА обнаружена накрутка рейтинга ТОГДА система ДОЛЖНА аннулировать фейковые отзывы
2. КОГДА разработчик нарушает правила ТОГДА система ДОЛЖНА наказать его игры
3. КОГДА нужно пересчитать рейтинги ТОГДА система ДОЛЖНА сделать это для всех игр
4. ЕСЛИ алгоритм дает сбой ТОГДА система ДОЛЖНА переключиться на резервный

### Требование 16

**Пользовательская история:** Как пользователь, я хочу видеть тренды и популярные мнения об играх.

#### Критерии приемки

1. КОГДА пользователь просматривает тренды ТОГДА система ДОЛЖНА показать игры с растущими рейтингами
2. КОГДА игра становится популярной ТОГДА система ДОЛЖНА выделить её в трендах
3. КОГДА мнение об игре меняется ТОГДА система ДОЛЖНА показать динамику рейтинга
4. ЕСЛИ данных недостаточно ТОГДА система ДОЛЖНА показать сообщение об этом

### Требование 17

**Пользовательская история:** Как система, я должна поддерживать различные типы рейтингов и оценок.

#### Критерии приемки

1. КОГДА пользователь оценивает игру ТОГДА система ДОЛЖНА поддерживать 5-звездочную систему
2. КОГДА нужна детальная оценка ТОГДА система ДОЛЖНА позволить оценить разные аспекты игры
3. КОГДА рассчитывается общий рейтинг ТОГДА система ДОЛЖНА учитывать все типы оценок
4. ЕСЛИ оценка некорректна ТОГДА система ДОЛЖНА отклонить её

### Требование 18

**Пользовательская история:** Как пользователь, я хочу экспортировать свои отзывы и рейтинги.

#### Критерии приемки

1. КОГДА пользователь запрашивает экспорт ТОГДА система ДОЛЖНА сформировать файл с его отзывами
2. КОГДА формируется экспорт ТОГДА система ДОЛЖНА включить все оценки и комментарии
3. КОГДА экспорт готов ТОГДА система ДОЛЖНА предоставить ссылку для скачивания
4. ЕСЛИ экспорт большой ТОГДА система ДОЛЖНА обработать его асинхронно

### Требование 19

**Пользовательская история:** Как система, я должна интегрироваться с системой достижений для мотивации.

#### Критерии приемки

1. КОГДА пользователь оставляет качественный отзыв ТОГДА система ДОЛЖНА засчитать это как достижение
2. КОГДА пользователь помогает сообществу отзывами ТОГДА система ДОЛЖНА наградить его
3. КОГДА отзыв получает много положительных оценок ТОГДА система ДОЛЖНА отметить автора
4. ЕСЛИ пользователь злоупотребляет системой ТОГДА система НЕ ДОЛЖНА засчитывать достижения

### Требование 20

**Пользовательская история:** Как система, я должна обеспечивать справедливость и объективность рейтингов.

#### Критерии приемки

1. КОГДА рассчитывается рейтинг ТОГДА система ДОЛЖНА учитывать время владения игрой
2. КОГДА пользователь мало играл ТОГДА система ДОЛЖНА снижать вес его отзыва
3. КОГДА отзыв очень старый ТОГДА система ДОЛЖНА уменьшать его влияние на рейтинг
4. ЕСЛИ обнаружена предвзятость ТОГДА система ДОЛЖНА корректировать алгоритм расчета