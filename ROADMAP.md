# Дорожная карта MVP платформы Cryo

## Структура
- Четыре волны поставки после двухнедельного фундамента: Core (недели 3–8), Distribution & Security (9–14), Engagement (15–20), Hardening & Launch (21–24)
- Группировка микросервисов повторяет `microservices-integration-map.md`: API Gateway → Core → Library/Download → Social/Content
- Все сервисы предоставляют REST API; общие требования: Docker-упаковка, развёртывание в Kubernetes, 100% автотестов, p95 < 200 мс, выдержка ≥1000 одновременных пользователей

## Этап 0. Фундамент (недели 1–2)
- Развернуть базовый стек (NestJS/TypeScript, PostgreSQL, Redis, Kafka, Next.js/React, Docker/Kubernetes) и единый CI/CD (GitHub Actions)
- Настроить стандарты качества (eslint, prettier, Jest + Supertest), утвердить Definition of Ready/Done для всех команд
- Подготовить общую инфраструктуру: управление секретами, логирование, метрики/алерты (Prometheus + Grafana), трассировка, сервис фичефлагов
- Сформировать стартовые бэклоги, синхронизировать коммуникации между командами, зафиксировать технические решения по охвату MVP

## Этап 1. Core-платформа (недели 3–8)
- User Service: регистрация, подтверждение email, JWT-аутентификация, CRUD профиля, события в Notification и Security
- Game Catalog Service: загрузка каталога, фильтры/сортировки, детальные карточки игр, отображение цен
- Payment Service: API оформления покупки, интеграции с банковскими картами и ЮMoney, жизненный цикл платежей, хуки для Security и Library
- Frontend: потоки авторизации, просмотр каталога, карточка игры, сценарий покупки, фундамент адаптивной дизайн-системы
- QA/DevOps: end-to-end сценарий «регистрация → покупка», базовый нагрузочный тест (≥1k RPS), принудительный HTTPS, начальный rate limiting
- Веха: первый end-to-end путь покупки (регистрация → покупка → статус владения в каталоге) готов к демо

## Этап 2. Distribution & Security (недели 9–14)
- Library Service: учёт владения, история прав, API для фронтенда и downstream-сервисов
- Download Service (Go): безопасная выдача загрузок, генерация ссылок, поддержка параллельных и возобновляемых скачиваний
- Security Service: защита от перебора паролей, IP/гео-политики, аудит, интеграции с User, Payment, API Gateway
- API Gateway: проксирование, проверка JWT, rate limiting, унифицированные ответы об ошибках, логирование запросов
- Frontend: библиотека пользователя, менеджер загрузок, настройки безопасности аккаунта, единый UX ошибок
- Веха: завершённый путь после покупки (скачивание/установка) с усиленными входными контролями

## Этап 3. Engagement Layer (недели 15–20)
- Social Service: граф друзей/подписок, лента активности, настройки приватности, события для Notification
- Review Service: CRUD отзывов, расчёт рейтингов, проверка владения через Library, обновления Game Catalog и Achievement
- Achievement Service: трекинг прогресса, правила для триггеров payments/library/social/review, отправка уведомлений
- Notification Service: in-app уведомления, email-доставка, управление предпочтениями, высоконагруженная очередь сообщений
- Frontend: разделы социальных связей, отзывы, хаб достижений, центр уведомлений и подписки
- QA/Data: кросс-сервисные сценарии вовлечения, контрактные тесты, аналитические дашборды для метрик удержания
- Веха: измеримая петля вовлечения (социальные действия, отзывы, достижения, уведомления) готова для бета-аудиторий

## Этап 4. Hardening & Launch (недели 21–24)
- Интеграционное тестирование 11 сервисов и фронта, инъекция отказов, отработка graceful degradation
- Производительность и масштабирование: API Gateway, Notification, Download, Security выдерживают ≥1000 одновременных пользователей, p95 < 200 мс
- Безопасность и комплаенс: пентест, аудиты, плейбуки реагирования, соответствие требованиям по платежам и данным
- Готовность к релизу: автоматизированные деплои в Kubernetes, стратегии отката, on-call, скрипты поддержки, план поэтапного включения фичефлагов
- Чек-лист бета-запуска: мониторинг KPI, пороги алёртов, цикл обратной связи игроков, приоритизированный пост-MVP backlog

## Сквозные потоки
- Observability & SLO: унифицированные логи, трейсинг, метрики, дашборды по Core и Engagement KPI
- Data & Analytics: события из Library, Payment, Review, Social для анализа воронки и персонализации
- QA Enablement: контрактные тесты, фикстуры, эмуляторы внешних провайдеров (платежи, email)
- Управление рисками: резерв 10–15% времени на фазу под интеграционные блокеры, пошаговые включения рисковых фич через фичефлаги

## Следующие действия
1. Уточнить распределение ресурсов по фазам и синхронизировать календарь релизов
2. Запустить этап 0: подтвердить инфраструктурные допущения, детализировать бэклог на первые две недели

## Развитие платформы после MVP

### Принципы
- Каждый новый функционал усиливает ценность для игроков, повышая вовлечённость и удержание
- Каждое направление направлено на рост доходов платформы за счёт монетизации, платных сервисов или повышения ARPU

### Этап 5. Удержание и социальная монетизация (недели 25–32)
- Marketplace Service: внутриигровой магазин дополнений и косметики, интеграция с Payment/Library для мгновенной выдачи
- Tournament Service: проведение турниров с платными слотами и призовыми фондами, вовлекающие события в Social/Notification
- Loyalty & Subscription: платные подписки с ежемесячными бонусами (ускоренные загрузки, эксклюзивные скидки), поддержка на фронте и в биллинге
- Аналитика вовлечения: расширенные дашборды для сегментации пользователей и таргетированных предложений

### Этап 6. Контент-сервис и партнёрские программы (недели 33–40)
- Workshop Service: пользовательский контент (моды, карты), модерация через Content Moderation Service, доход от платных публикаций
- Partner Portal: инструменты для разработчиков игр (Self-service публикация, аналитика продаж), комиссии за продажи
- News & Events Service: редакторские подборки и платные размещения, интеграция с Notification для промо-кампаний
- Расширение фронтенда: витрины акций, рекомендательные блоки, персонализированный контент

### Этап 7. Дополнительные источники дохода (недели 41–48)
- Cloud Save & Cross-play: платный доступ к облачным сохранениям и мультиплееру (Cloud Save Service, Multiplayer Service)
- Advertising Platform: ненавязчивая рекламная сеть внутри приложения, таргетинг по интересам, отчётность для партнёров
- Premium Support & Assurance: платные пакеты поддержки и страхование покупок, интеграция с Support Service и Notification
- Экосистема подписок: объединение предложений (подписка + облачные сохранения + эксклюзивы) в едином биллинговом плане

### Подготовка к масштабированию
- Обновление инфраструктуры: выделенные кластеры для high-load сервисов (Download, Notification, Tournament)
- Финансовая аналитика: прогнозирование LTV/CAC, автоматизация отчётности для бизнеса
- Юридические аспекты: обновление документов для подписок и UGC, расширение комплаенса для международного роста

## Потенциальные направления для функциональности уровня Steam
Даже с учётом текущего плана не охвачен весь спектр возможностей, сопоставимых со Steam; ниже перечислены направления, которые можно запланировать на более поздние итерации.
- **Комьюнити-хабы игр**: скриншоты, гайды, обсуждения, система модерируемых форумов
- **Торговая площадка и внутренняя валюта**: обмен предметами, карточки, очки лояльности, магазины с косметикой
- **Семейный доступ и родительский контроль**: шаринг библиотеки, ограничения по времени и контенту, самостоятельные профили детей
- **Возвраты и гарантия качества**: автоматизированный процесс возврата игр, прозрачная политика возмещения
- **Steam Workshop-подобная экосистема**: продвинутая модерация, совместная разработка модов, монетизация UGC
- **Потоковое вещание и Remote Play**: трансляции геймплея, совместная игра через облако, кооператив «играй вместе»
- **Поддержка VR/AR и специальных устройств**: отдельный каталог, проверки совместимости, storefront для VR-контента
- **Продвинутая программа достижений и коллекционирования**: карточки, значки, уровни профиля, сезонные события
- **Система кураторов и рекомендаций**: подписки на кураторов, алгоритмический персональный фид, пользовательские коллекции
- **Интеграция с античит и системой банов**: централизованные бан-листы, автоматические апелляции, уведомления о нарушениях
- **Расширенный Dev-портал**: аналитика в реальном времени, управление скидками, инструменты промо-кампаний
- **Глобальная программа скидок и распродаж**: планировщик акций, таймлайны событий, гибкая настройка региональных цен
- **Подписки и пакеты услуг**: объединение подписки, облачных сервисов, премиум-поддержки в единую экосистему предложений
- **Совместимость и оптимизация под Linux/Proton**: автоматическое тестирование, сертификация совместимости, баг-трекинг
